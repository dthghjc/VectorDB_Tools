---
alwaysApply: true
---
# VectorDB_Tools é¡¹ç›®è®¾è®¡æ–‡æ¡£

## é¡¹ç›®æ„¿æ™¯ (Consolidated Vision)

æœ¬é¡¹ç›®çš„ç›®æ ‡æ˜¯æ„å»ºä¸€ä¸ªå›´ç»•æ•°æ®å¤„ç†å·¥ä½œæµçš„ä»»åŠ¡ç®¡ç†å¹³å°ï¼Œå°†ä»åŸå§‹æ•°æ®åˆ° Milvus å¯ç”¨æ•°æ®çš„ç¹çè¿‡ç¨‹äº§å“åŒ–ã€å¯è§†åŒ–ã€‚é¡¹ç›®åŒ…å«äº”å¤§æ ¸å¿ƒæ¨¡å—ï¼Œæ„æˆå®Œæ•´çš„å¼€å‘è“å›¾ã€‚

### 1. é…ç½®ä¸­å¿ƒ (Configuration)

- ç®¡ç† Milvus è¿æ¥é…ç½®ã€‚
- ç®¡ç†å¹¶å®‰å…¨å­˜å‚¨ç¬¬ä¸‰æ–¹æœåŠ¡ï¼ˆå¦‚å‘é‡æ¨¡å‹ APIï¼‰çš„å¯†é’¥ã€‚

### 2. Schema ç®¡ç†å™¨ (Schema Management)

- æä¾› UI ç•Œé¢ï¼Œè®©ç”¨æˆ·èƒ½å¤Ÿåˆ›å»ºã€ç¼–è¾‘å’Œä¿å­˜ Milvus Collection çš„ Schema æ¨¡æ¿ã€‚
- è¿™äº›æ¨¡æ¿å°†åœ¨æ•°æ®å¯¼å…¥æ—¶è¢«å¤ç”¨ã€‚

### 3. æ•°æ®å¯¼å…¥æµæ°´çº¿ (Data Ingestion Pipeline)

è¿™æ˜¯ä¸€ä¸ªå¼•å¯¼å¼çš„ã€åˆ†æ­¥éª¤çš„æ ¸å¿ƒæµç¨‹ã€‚
1.  **ä¸Šä¼ **: ç”¨æˆ·ä¸Šä¼ åŸå§‹æ•°æ®æ–‡ä»¶ã€‚
2.  **å‘é‡åŒ–**: ç”¨æˆ·é€‰æ‹©å‘é‡æ¨¡å‹ï¼Œé…ç½®å­—æ®µæ˜ å°„ï¼Œç³»ç»Ÿå°†æ­¤ä½œä¸ºä¸€ä¸ªåå°ä»»åŠ¡æ¥æ‰§è¡Œå‘é‡ç”Ÿæˆã€‚
3.  **åŠ è½½**: ç”¨æˆ·é€‰æ‹©å‘é‡åŒ–åçš„æ•°æ®å’Œç›®æ ‡ Schema, ç³»ç»Ÿå°†æ­¤ä½œä¸ºå¦ä¸€ä¸ªåå°ä»»åŠ¡æ¥æ‰§è¡Œ Milvus æ•°æ®å¯¼å…¥ã€‚

### 4. ä»»åŠ¡ä¸­å¿ƒ (Task Management)

- ä¸€ä¸ªä»ªè¡¨ç›˜ (Dashboard)ï¼Œé›†ä¸­å±•ç¤ºæ‰€æœ‰åå°ä»»åŠ¡ï¼ˆå‘é‡åŒ–ã€æ•°æ®åŠ è½½ã€æ‰¹é‡æ£€ç´¢ï¼‰çš„åˆ—è¡¨ã€‚
- ç”¨æˆ·å¯ä»¥æ¸…æ™°åœ°çœ‹åˆ°æ¯ä¸ªä»»åŠ¡çš„çŠ¶æ€ï¼ˆæ’é˜Ÿã€è¿è¡Œä¸­ã€æˆåŠŸã€å¤±è´¥ï¼‰ã€è¿›åº¦å’Œæ—¥å¿—ã€‚

### 5. æ£€ç´¢ä¸è¯„ä¼°ä¸­å¿ƒ (Search & Evaluation)

- **ç›®æ ‡**: éªŒè¯å’Œæµ‹è¯•å‘é‡æ•°æ®çš„æ£€ç´¢æ•ˆæœã€‚
- **åŠŸèƒ½**:
    - å…è®¸ç”¨æˆ·åˆ›å»ºâ€œæµ‹è¯•é›†â€ï¼ˆé€šè¿‡ç•Œé¢ç¼–è¾‘æˆ–ä¸Šä¼  prompt æ–‡ä»¶ï¼‰ã€‚
    - ç”¨æˆ·é€‰æ‹©ä¸€ä¸ª Collectionï¼Œé€‰æ‹©ä¸€ä¸ªæµ‹è¯•é›†ï¼Œè®¾ç½®æ£€ç´¢å‚æ•°ï¼ˆå¦‚ `top_k`ï¼‰ã€‚
    - ç³»ç»Ÿä»¥åå°ä»»åŠ¡çš„å½¢å¼ï¼Œæ‰¹é‡æ‰§è¡Œæµ‹è¯•é›†ä¸­çš„æ‰€æœ‰æ£€ç´¢è¯·æ±‚ã€‚
    - æä¾›ä¸€ä¸ªç»“æœé¡µé¢ï¼Œå±•ç¤ºæ¯ä¸€æ¡ prompt çš„æ£€ç´¢ç»“æœï¼ˆè¿”å›çš„å®ä½“ã€è·ç¦»ç­‰ï¼‰ã€‚
    - æ”¯æŒå°†è¯¥æ¬¡æµ‹è¯•çš„æ‰€æœ‰ç»“æœå¯¼å‡ºä¸ºæ–‡ä»¶ï¼ˆå¦‚ CSV æˆ– JSONï¼‰ï¼Œä¾¿äºç¦»çº¿åˆ†æå’ŒæŠ¥å‘Šã€‚

---

## æŠ€æœ¯æ¶æ„æ–¹æ¡ˆ

### ä¸€ã€ æ ¸å¿ƒåŸåˆ™

- **å‰åç«¯åˆ†ç¦»**: ä¸¥æ ¼éµå®ˆå‰åç«¯åˆ†ç¦»åŸåˆ™ï¼Œé€šè¿‡ RESTful API è¿›è¡Œé€šä¿¡ã€‚
- **å¼‚æ­¥ä»»åŠ¡å¤„ç†**: æ ¸å¿ƒçš„ã€è€—æ—¶çš„æ“ä½œï¼ˆæ•°æ®å‘é‡åŒ–ã€åŠ è½½ï¼‰å¿…é¡»é€šè¿‡åå°ä»»åŠ¡é˜Ÿåˆ—å¼‚æ­¥æ‰§è¡Œï¼Œå‰ç«¯é€šè¿‡ WebSocket è·å–çŠ¶æ€ã€‚

### äºŒã€ åç«¯æ¶æ„ (Python + FastAPI)

åç«¯æ˜¯æ•´ä¸ªç³»ç»Ÿçš„æ ¸å¿ƒï¼Œå°†é‡‡ç”¨åˆ†å±‚æ¶æ„å¹¶å¼•å…¥ä»»åŠ¡é˜Ÿåˆ—ã€‚

- **Web æ¡†æ¶**: FastAPI
- **æ•°æ®åº“ ORM**: SQLAlchemy (é…åˆ Alembic è¿›è¡Œæ•°æ®åº“è¿ç§»)
- **æ•°æ®åº“**: PostgreSQL
- **åå°ä»»åŠ¡é˜Ÿåˆ—**: Celery + Redis
    - **Celery**: ä¸šç•Œæ ‡å‡†çš„ Python åˆ†å¸ƒå¼ä»»åŠ¡é˜Ÿåˆ—ï¼Œè´Ÿè´£æ‰§è¡Œå¼‚æ­¥ä»»åŠ¡ã€‚
    - **Redis**: ä½œä¸º Celery çš„ Broker (æ¶ˆæ¯ä¸­é—´ä»¶) å’Œ Result Backend (ç»“æœå­˜å‚¨)ã€‚å®ƒè½»é‡ã€å¿«é€Ÿï¼Œéå¸¸é€‚åˆè¿™ä¸ªåœºæ™¯ã€‚
- **æ•°æ®éªŒè¯**: Pydantic

### ä¸‰ã€ å‰ç«¯æ¶æ„ (Vite + React 19)

å‰ç«¯è´Ÿè´£æä¾›æµç•…çš„ç”¨æˆ·äº¤äº’ä½“éªŒã€‚

- **UI æ¡†æ¶**: React (ä½¿ç”¨ Vite æ„å»º)
- **æ ·å¼**: TailwindCSS v4 + shadcn/ui
- **çŠ¶æ€ç®¡ç†**: Redux Toolkit (RTK)
    - ç”¨äºç®¡ç†å…¨å±€çŠ¶æ€ï¼Œå¦‚ Milvus è¿æ¥åˆ—è¡¨ã€‚
    - ç‰¹åˆ«é€‚ç”¨äºç®¡ç†ä»»åŠ¡çŠ¶æ€ï¼šå½“ç”¨æˆ·æäº¤ä¸€ä¸ªä»»åŠ¡åï¼Œå¯ä»¥å°†ä»»åŠ¡åˆ—è¡¨å­˜å…¥ storeï¼Œå¹¶å®šæœŸï¼ˆè½®è¯¢ï¼‰æ›´æ–°å®ƒä»¬çš„çŠ¶æ€ã€‚
- **è·¯ç”±**: React Router
- **ä¸è¦å°è¯•build!!!**

### **ğŸ—ï¸ å‰ç«¯é¡¹ç›®æ¶æ„å±‚æ¬¡**
**Vite + React 19 + React Router + shadcn/ui + TailwindCSS v4**
```
src/
â”œâ”€â”€ pages/                    # é¡µé¢å±‚ - æœ€ç»ˆç»„è£…å’Œä¸šåŠ¡é€»è¾‘
â”‚   â”œâ”€â”€ auth/
â”‚   â”‚   â”œâ”€â”€ LoginPage.tsx     # ç™»å½•é¡µé¢ - çŠ¶æ€ç®¡ç†+ä¸šåŠ¡é€»è¾‘+ç»„è£…
â”‚   â”‚   â””â”€â”€ SignupPage.tsx    # æ³¨å†Œé¡µé¢
â”‚   â”œâ”€â”€ home/
â”‚   â”œâ”€â”€ config/
â”‚   â””â”€â”€ ...
â”‚
â”œâ”€â”€ components/
â”‚   â”œâ”€â”€ ui/                   # shadcn/ui åŸºç¡€ç»„ä»¶å±‚
â”‚   â”‚   â”œâ”€â”€ button.tsx        # shadcn è‡ªåŠ¨ç”Ÿæˆ
â”‚   â”‚   â”œâ”€â”€ input.tsx         # shadcn è‡ªåŠ¨ç”Ÿæˆ
â”‚   â”‚   â”œâ”€â”€ card.tsx          # shadcn è‡ªåŠ¨ç”Ÿæˆ
â”‚   â”‚   â””â”€â”€ ...
â”‚   â”‚
â”‚   â”œâ”€â”€ features/             # ä¸šåŠ¡åŠŸèƒ½ç»„ä»¶å±‚ - çº¯UIç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ auth/
â”‚   â”‚   â”‚   â”œâ”€â”€ LoginForm.tsx # ç™»å½•è¡¨å• - çº¯UIç»„ä»¶
â”‚   â”‚   â”‚   â””â”€â”€ SignupForm.tsx
â”‚   â”‚   â”œâ”€â”€ config/
â”‚   â”‚   â””â”€â”€ ...
â”‚   â”‚
â”‚   â”œâ”€â”€ layout/               # å¸ƒå±€ç»„ä»¶å±‚
â”‚   â”‚   â”œâ”€â”€ AppLayout.tsx
â”‚   â”‚   â”œâ”€â”€ AuthLayout.tsx
â”‚   â”‚   â””â”€â”€ sidebar/
â”‚   â”‚
â”‚   â”œâ”€â”€ common/               # é€šç”¨ç»„ä»¶å±‚
â”‚   â”‚   â”œâ”€â”€ LanguageSwitcher.tsx
â”‚   â”‚   â”œâ”€â”€ ThemeToggle.tsx
â”‚   â”‚   â””â”€â”€ ...
â”‚   â”‚
â”‚   â””â”€â”€ auth/                 # è®¤è¯ç›¸å…³ç»„ä»¶
â”‚       â”œâ”€â”€ RequireAuth.tsx
â”‚       â””â”€â”€ AuthProvider.tsx
â”‚
â”œâ”€â”€ store/                    # çŠ¶æ€ç®¡ç†å±‚
â”œâ”€â”€ services/                 # æœåŠ¡å±‚
â”‚   â”œâ”€â”€ api/           # HTTPè¯·æ±‚
â”‚   â”œâ”€â”€ cache/         # ç¼“å­˜é€»è¾‘  
â”‚   â”œâ”€â”€ validation/    # æ•°æ®éªŒè¯
â”‚   â””â”€â”€ business/      # ä¸šåŠ¡è§„åˆ™
â”œâ”€â”€ router/                   # è·¯ç”±é…ç½®å±‚
â”œâ”€â”€ hooks/                    # è‡ªå®šä¹‰hookså±‚
â”œâ”€â”€ utils/                    # å·¥å…·å‡½æ•°å±‚
â””â”€â”€ types/                    # ç±»å‹å®šä¹‰å±‚
```

### **ğŸ“‹ å„å±‚èŒè´£å®šä¹‰**

#### **1. Pages å±‚ (é¡µé¢æœ€ç»ˆç»„è£…å±‚)**
```typescript
// pages/auth/LoginPage.tsx
export default function LoginPage() {
  // âœ… èŒè´£ï¼š
  // - ReduxçŠ¶æ€ç®¡ç† (useAppDispatch, useAppSelector)
  // - ä¸šåŠ¡é€»è¾‘å¤„ç† (handleSubmit, error handling)
  // - é¡µé¢çº§å‰¯ä½œç”¨ (useEffect for navigation)
  // - ç»„è£…å’Œå¸ƒå±€UIç»„ä»¶
  
  const dispatch = useAppDispatch()
  const { error, loading } = useAppSelector(state => state.auth)
  
  const handleSubmit = async (data) => {
    await dispatch(loginUser(data))
  }
  
  return (
    <LoginForm 
      onSubmit={handleSubmit}
      error={error}
      loading={loading}
    />
  )
}
```

#### **2. Features å±‚ (ä¸šåŠ¡UIç»„ä»¶å±‚)**
```typescript
// components/features/auth/LoginForm.tsx
interface LoginFormProps {
  onSubmit: (data: LoginData) => void
  error?: string
  loading?: boolean
}

export function LoginForm({ onSubmit, error, loading }: LoginFormProps) {
  // âœ… èŒè´£ï¼š
  // - çº¯UIæ¸²æŸ“
  // - æœ¬åœ°è¡¨å•çŠ¶æ€ (email, password)
  // - åŸºç¡€è¡¨å•éªŒè¯
  // - è§¦å‘å›è°ƒå‡½æ•°
  
  const [email, setEmail] = useState('')
  const [password, setPassword] = useState('')
  
  const handleSubmit = (e) => {
    e.preventDefault()
    onSubmit({ email, password })
  }
  
  return (
    <Card>
      <form onSubmit={handleSubmit}>
        <Input value={email} onChange={setEmail} />
        <Button type="submit" disabled={loading}>
          {loading ? 'Logging in...' : 'Login'}
        </Button>
        {error && <div className="error">{error}</div>}
      </form>
    </Card>
  )
}
```

#### **3. UI å±‚ (shadcnåŸºç¡€ç»„ä»¶å±‚)**
```typescript
// components/ui/button.tsx (shadcnç”Ÿæˆ)
export function Button({ children, ...props }) {
  // âœ… èŒè´£ï¼š
  // - çº¯å±•ç¤ºç»„ä»¶
  // - æ ·å¼å’Œäº¤äº’é€»è¾‘
  // - æ— ä¸šåŠ¡é€»è¾‘
  // - é«˜åº¦å¯å¤ç”¨
}
```

### **ğŸ”„ æ•°æ®æµå‘**

```
ç”¨æˆ·äº¤äº’ â†’ Featuresç»„ä»¶ â†’ å›è°ƒå‡½æ•° â†’ Pagesç»„ä»¶ â†’ Redux Action â†’ APIè°ƒç”¨
                â†“
     Redux Store â†’ Pagesç»„ä»¶ â†’ Props â†’ Featuresç»„ä»¶ â†’ UIæ›´æ–°
```

### **âš¡ å…³é”®è®¾è®¡åŸåˆ™**

#### **1. å•ä¸€èŒè´£åŸåˆ™**
- **Pages**: åªç®¡ä¸šåŠ¡é€»è¾‘å’ŒçŠ¶æ€ç®¡ç†
- **Features**: åªç®¡UIæ¸²æŸ“å’Œæœ¬åœ°çŠ¶æ€  
- **UI**: åªç®¡åŸºç¡€å±•ç¤ºå’Œäº¤äº’

#### **2. ä¾èµ–æ–¹å‘**
```
Pages â†’ Features â†’ UI
  â†“        â†“       â†“
Store   Props   Style
```

#### **3. æµ‹è¯•ç­–ç•¥**
```typescript
// UIç»„ä»¶æµ‹è¯• - æµ‹è¯•æ¸²æŸ“å’Œäº¤äº’
render(<LoginForm onSubmit={mockFn} />)

// Featuresç»„ä»¶æµ‹è¯• - æµ‹è¯•UIé€»è¾‘å’Œå›è°ƒ
render(<LoginForm onSubmit={handleSubmit} error="test" />)

// Pagesç»„ä»¶æµ‹è¯• - æµ‹è¯•ä¸šåŠ¡é€»è¾‘å’ŒçŠ¶æ€
const { store } = renderWithProviders(<LoginPage />)
```

### **ğŸ“ æ–‡ä»¶å‘½åè§„èŒƒ**

```
PascalCase.tsx    # ç»„ä»¶æ–‡ä»¶
camelCase.ts      # å·¥å…·å‡½æ•°
kebab-case/       # ç›®å½•åç§°
index.tsx         # ç›®å½•å…¥å£æ–‡ä»¶
```

### **ğŸ¯ æœ€ä½³å®è·µæ€»ç»“**

#### **DO (æ¨è)**
- âœ… Pages ç»„ä»¶å¤„ç†æ‰€æœ‰ä¸šåŠ¡é€»è¾‘
- âœ… Features ç»„ä»¶é€šè¿‡ props æ¥æ”¶æ•°æ®å’Œå›è°ƒ
- âœ… UI ç»„ä»¶å®Œå…¨æ— çŠ¶æ€å’Œæ— å‰¯ä½œç”¨
- âœ… ä½¿ç”¨ TypeScript å®šä¹‰æ¸…æ™°çš„æ¥å£
- âœ… æ¯å±‚åªä¾èµ–ä¸‹ä¸€å±‚ï¼Œä¸è·¨å±‚è°ƒç”¨

#### **DON'T (é¿å…)**
- âŒ Features ç»„ä»¶ç›´æ¥è°ƒç”¨ Redux æˆ– API
- âŒ UI ç»„ä»¶åŒ…å«ä¸šåŠ¡é€»è¾‘
- âŒ è·¨å±‚çº§çš„ç›´æ¥ä¾èµ–
- âŒ åœ¨é”™è¯¯çš„å±‚çº§å¤„ç†é”™è¯¯æˆ–çŠ¶æ€